# import * from './generated/prisma-client/prisma.graphql'

type Message {
  flag: String
  text: String
}

type Mutation {
  createVideoProject(
    projectType: String!
    projectTitle: String!
    visibility: String!
  ): VideoProject!
  updateVideoProject(
    id: ID!
    projectType: String
    projectTitle: String
    visibility: String
    descPublic: String
    descInternal: String
    author: String
    team: String
    status: String
    # need to determine how to update units, srts,
    # thumbnails, categories, tags
  ): VideoProject!
  deleteVideoProject(id: ID!): VideoProject!

  createVideoUnit(data: VideoUnitCreateInput!): VideoUnit!
  updateVideoUnit(data: VideoUnitUpdateInput!, where: VideoUnitWhereUniqueInput!): VideoUnit!
  deleteVideoUnit(id: ID!): VideoUnit!

  createSupportFile(data: SupportFileCreateInput!): SupportFile!
  updateSupportFile(data: SupportFileUpdateInput!, where: SupportFileWhereUniqueInput!): SupportFile!
  deleteSupportFile(id: ID!): SupportFile!

  createCategory(data: CategoryCreateInput!): Category!
  updateCategory(data: CategoryUpdateInput!, where: CategoryWhereUniqueInput!): Category
  deleteCategory(id: ID!): Category

  createTag(data: TagCreateInput!): Tag!
  updateTag(data: TagUpdateInput!, where: TagWhereUniqueInput!): Tag
  deleteTag(id: ID!): Tag

  createLanguage(data: LanguageCreateInput!): Language!
  updateLanguage(data: LanguageUpdateInput!, where: LanguageWhereUniqueInput!): Language
  createTeam(name: String!, organization: String!): Team!
  signOut: String!
  signUp(data: UserCreateInput): Message
  signIn(email: String!, password: String!): User!
  googleSignin(token: String!): User
  updatePassword(
    tempToken: String!
    password: String!
    confirmPassword: String!
  ): User!
  requestAccountAction(
    email: String!
    subject: String!
    body: String!
    link: String!
    reply: String!
    page: String!
  ): Message
}

type Query {
  videoProjects: [VideoProject]!
  videoProject(id: ID!): VideoProject

  videoUnits: [VideoUnit]!
  videoUnit(id: ID!): VideoUnit

  videoFiles: [VideoFile]!
  videoFile(id: ID!): VideoFile

  supportFiles: [SupportFile]!
  supportFile(id: ID!): SupportFile

  teams: [Team]!
  team(id: ID!): Team
  authenticatedUser: User

  languages: [Language]!
  language(id: ID!): Language

  categories: [Category]!
  category(id: ID!): Category

  tags: [Tag]!
  tag(id: ID!): Tag
}

# Redefine to not reveal sensitive user fields
type User {
  id: ID!
  firstName: String!
  lastName: String!
  email: String!
  jobTitle: String
  country: String
  city: String
  howHeard: String
  permissions: [Permission!]!
  team: Team
}
